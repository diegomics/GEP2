###################################################################################################
# MAIN SETTINGS                                                                                   #
###################################################################################################

# Path to the GEP2 data table containing assembly and read paths
## Table columns: sp_name, asm_id, asm_files, read_type, read_files
## Table extension is flexible (xlsx, csv...) and can be online (i.e., google drive)
## For google drive and such, set anyone with the link as viewer
DATA_TABLE: "https://docs.google.com/spreadsheets/d/1xmsstJGBo45SEQgCPncE76u51_VN5IDG9sFFafYkGfI/edit?usp=sharing"

# Path where a folder named GEP2_results will be created
OUT_FOLDER: "/scratch/ddepanis/gep2_test_results"

# Per job max resources
myCPU: 24      # Maximum cores per job (2-24)
myRAM: 512     # Maximum RAM per job in GB (minimum 4)
myRUN: 240     # Maximum time per job in HOURS


# General purpose temp directory for intermediate files
## Options: "default" (uses OUT_FOLDER/GEP2_results/tmp), "auto" (will try to get a local SSD
## from execution/config apptainer-args, falls back to default if <100GB free), or specify a path 
## "/path/to/dir" to use that particular folder
TEMP_DIR: "auto"

# Fast temp directory for I/O-intensive operations (e.g., contamination screening)
## Options: "default" (uses OUT_FOLDER/GEP2_results/tmp and shows hints for RAM-based options),
## or specify a fast path like "/dev/shm" or another RAM-mounted filesystem
FAST_TEMP_DIR: "/dev/shm"

###################################################################################################
# OPTIONAL SETTINGS                                                                               #
###################################################################################################

# gene completeness evaluation --------------------------------------------------------------------

# Run gene completeness analysis
RUN_COMPL: on

# BUSCO lineage to use
## Options: "auto" (searches for best matching lineage in addition to eukaryota), 
## or specific lineage name (e.g., eukaryota, primates, insecta, fungi, etc)
LINEAGE: auto

# Use BUSCO instead COMPLEASM 
PREFER_BUSCO: off # under development


# Read processing ---------------------------------------------------------------------------------

# Process reads (trim/QC). Set to off to skip read processing
READS_PROC: on

# Trim short reads (Illumina/10x), set to off to skip trimming
TRIM_PE: on

# Filter HiFi reads, set to off to skip filtering
TRIM_HIFI: on

# Correct ONT reads with Hifiasm (caution, may take several hours)
CORRECT_ONT: on


# K-mer analysis ----------------------------------------------------------------------------------

# Run K-mer based analysis
KMER_STATS: on

# Skip k-mer analysis for assemblies marked with skip=on in the data table
SKIP_KMER: off

# K-mer length (usually 21 or 31)
KMER_LEN: 31

# If more than one data type per sample, which one to use for k-mer analysis?
## Options are given by assigning priority like: hifi>illumina>ont>hic  ...
## Also, if a tech is not listed here, will be excluded if MERGE_TECH: on
DATA_PRIORITY: "illumina>hifi>ont>hic"

# Merge reads from all technologies for k-mer analysis
## Options are off (use only highest priority tech) or on (merge k-mers from all techs)
MERGE_TECH: off

# Expected ploidy for GenomeScope2 analysis (1, 2, 3, 4, 5, or 6)
PLOIDY: 2

# Use FastK instead of Meryl
USE_FASTK: off # under development


# Long reads-based analysis -----------------------------------------------------------------------

# Run Inspector for assembly evaluation using long reads (caution: it's not fast!)
RUN_INSP: off

# Skip Inspector for assemblies marked with skip=on in the data table
SKIP_INSP: off


# Hi-C analysis -----------------------------------------------------------------------------------

# Run Hi-C analysis (chromap + cooler + pretextmap)
RUN_HIC: on

# Skip Hi-C analysis for assemblies marked with skip=on in the data table
SKIP_HIC: off

# Minimum mapping quality for PretextMap
HIC_MAPQ: 0

# Bin size for cooler (base pairs)
HIC_BINSIZE: 10000

# High resolution mode for PretextMap (larger files but better detail)
## If "on" no png snapshot will be created due to a PretextSnapshot issue
HIC_HIGH_RES: off

# Pretext tracks (requires RUN_HIC: on)
## Gap/N density track (shows assembly gaps)
GAP_TRACK: on
## Long read coverage track (requires long reads, HiFi or ONT)
COVER_TRACK: on
## Low complexity tracks (sdust and longdust)
REP_TRACK: on
## Telomere repeat density track
### Options: "auto" (auto-detects motif via GoaT/tidk), off (do not add telomere track),
### or input the telomere sequence string (e.g. "TTAGGG")
TELO_TRACK: auto

# Contamination analysis --------------------------------------------------------------------------
